<% provide(:title, 'Guia de Argumentação - Toulmin') %>
<div class="row">
  <div class="span12">
    <h1>Guia de Argumentação
    <br/>
    Toulmin</h1>
    <blockquote class="pull-right">
      <p>
        "Argumentos são interações humanas pelas quais se formulam, se debatem e/ou se confrontam linhas de raciocínio."
      </p>
      <small>Stephen Toulmin</small>
    </blockquote>
    <div class="tabbable tabs-below">
      <ul class="nav nav-tabs">
        <li class="active">
          <a href="#lA" data-toggle="tab">Meus Rascunhos</a>
        </li>
        <li>
          <a href="#lE" data-toggle="tab">Construa um Argumento</a>
        </li>
        <li>
          <a href="#lB" data-toggle="tab">Estrutura um Argumento</a>
        </li>
        <li>
          <a href="#lC" data-toggle="tab">Qualidade em um argumento</a>
        </li>
        <li>
          <a href="#lD" data-toggle="tab">Leituras e Referências</a>
        </li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane active" id="lA">
          <% if @sandargs.any? %>
          <% @sandargs.each do |sandarg| %>
          <div class="well">
            <h3>Rascunho [ <%= sandarg.id %> ]
            <%= link_to "Aprimorar", improve_sandarg_path(sandarg), class: "btn btn-small btn-info" %>
            <%= link_to "Ver", sandarg, class: "btn btn-small" %>
            <%= link_to "Excluir", sandarg, method: :delete, confirm: "Tem certeza?", class: "btn btn-small btn-danger" %> </h3>
            <p>
              <% if sandarg.content.present? %>
              <%= sandarg.content %>
              <% else %>
              O texto do seu rascunho ainda não foi construído.
              <% end %>
            </p>
          </div>
          <% end %>
          <% else %>
          <br/>
          <br/>
          <br/>
          <p>
            Você <b>ainda não</b> possui rascunhos...
          </p>
          <br/>
          <br/>
          <% end %>
        </div>
        <div class="tab-pane" id="lE">
          <%= form_for(@sandarg) do |f| %>
          <%= render 'shared/error_messages', object: f.object %>
          <div id="myCarousel" class="carousel slide" data-ride="carousel">

            <!-- Indicators

            <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
            <li data-target="#myCarousel" data-slide-to="3"></li>
            <li data-target="#myCarousel" data-slide-to="4"></li>
            <li data-target="#myCarousel" data-slide-to="5"></li>
            </ol>
            -->

            <!-- Wrapper for slides -->

            <div class="carousel-inner">
              <div class="active item">
                <div class="span8 offset2">
                  <a class="pull-right">1/7</a>
                  <div>
                    <br/>
                    <%= textilize Page.find_by_key('IntroGuia').value if Page.find_by_key('IntroGuia').value.present? %>
                  </div>                  
                  <hr/>
                </div>
              </div>
              <div class="item">
                <div class="span8 offset2">
                  <a class="pull-right">2/7</a>
                  <p>
                    Cada argumento deve deve propor, reivindicar ou concluir alguma coisa [C]:
                  </p>
                  <%= f.text_area :claim,   :placeholder => "Ou seja, o que você está tentando provar?", :rows => "5"%>
                  <h2>1. Pretensão/Conclusão <a class="btn pull-right" data-toggle="modal" href="#EPre" >Explicar</a></h2>
                  <hr/>
                </div>
              </div>
              <div class="item">
                <div class="span8 offset2">
                  <a class="pull-right">3/7</a>
                  <p>
                    Cada conclusão deve ser sustentada por fatos [G]:
                  </p>
                  <%= f.text_area :ground,   :placeholder => "Por que você supõe isso?", :rows => "5"%>
                  <h2>2. Razões/Dados <a class="btn pull-right" data-toggle="modal" href="#ERaz" >Explicar</a></h2>
                  <hr/>
                </div>
              </div>
              <div class="item">
                <div class="span8 offset2">
                  <a class="pull-right">4/7</a>
                  <p>
                    Deve existir uma regra, um vínculo, entre a conclusão e os fatos [W]:
                  </p>
                  <%= f.text_area :warrant,   :placeholder => "Explique seu raciocínio...", :rows => "5"%>
                  <h2>3. Garantia/Regra de Inferência <a class="btn pull-right" data-toggle="modal" href="#EGar" >Explicar</a></h2>
                  <hr/>

                </div>
              </div>
              <div class="item">
                <div class="span8 offset2">
                  <a class="pull-right">5/7</a>
                  <p>
                    As regras provém de um fundamento [B]:
                  </p>
                  <%= f.text_area :backing,   :placeholder => "O quê fundamenta seu raciocínio?", :rows => "5"%>
                  <h2>4. Respaldo <a class="btn pull-right" data-toggle="modal" href="#ERes" >Explicar</a></h2>
                  <hr/>

                </div>
              </div>
              <div class="item">
                <div class="span8 offset2">
                  <a class="pull-right">6/7</a>
                  <p>
                    Cada argumento pode admitir excessões [R]:
                  </p>
                  <%= f.text_area :rebuttal,   :placeholder => "Há alguma situação em que seu argumento não se sustenta?", :rows => "5"%>
                  <h2>5. Reserva/Refutador/Anulador <a class="btn pull-right" data-toggle="modal" href="#ERef" >Explicar</a></h2>
                  <hr/>
                </div>
              </div>
              <div class="item">
                <div class="span8 offset2">
                  <a class="pull-right">7/7</a>
                  <p>
                    Cada argumento tem sua força verbalizada [Q]:
                  </p>
                  <%= f.text_field :qualifier, :placeholder => "Você acha provável ou é certo?",
                    :data => {:provide => "typeahead",
                      :items => "4",
                      :source => '["necessariamente","possivelmente","é plausível","é inconteste", "não resta dúvida", "estes fatos, aqui expostos, tornam inafastável que", "demonstra-se de forma irrefutável"]'
                    }%>
                  <h2>6. Qualificador <a class="btn pull-right" data-toggle="modal" href="#EQua" >Explicar</a></h2>
                  <hr/>
                </div>
              </div>
            </div>
            <!-- Carousel nav -->
            <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
            <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
          </div>
          <div class="pull-right">
            <% if @sandarg.content.blank? %>
            Gerar texto automático?
            <% else %>
            Sobrescrever texto do argumento?
            <% end %>
            <%= f.check_box :overwrite %> |
            <%= f.submit "Gravar", class: "btn btn-large btn-primary", :disable_with => "Aguarde..." %>
          </div>
          <% end %>
        </div>

        <div class="tab-pane" id="lB">
          <div class="span10 offset1">
            <%= textilize Page.find_by_key('estrutura_t').value if Page.find_by_key('estrutura_t').value.present? %>
            <div align="center">
              <%= image_tag("Estrutura.png", :size => "250x400", :alt => "Estrutura de um Argumento") %>
            </div>
          </div>

        </div>
        <div class="tab-pane" id="lC">
          <%= textilize Page.find_by_key('qualidade_t').value if Page.find_by_key('qualidade_t').value.present? %>
        </div>
        <div class="tab-pane" id="lD">
          <h3> Sugestões de Leitura: </h3>
          <br/>
          <%= textilize Page.find_by_key('leituras').value if Page.find_by_key('leituras').value.present? %>
          <hr/>
          <h3> Referências </h3>
          <br/>
          <%= textilize Page.find_by_key('referencias').value if Page.find_by_key('referencias').value.present? %>
          <hr/>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal hide" id="EPre">
  <div class="modal-header">
    <h3>Sobre a Conclusão/Pretensão</h3>
  </div>
  <div class="modal-body">
    <%= textilize Page.find_by_key('EPre').value if Page.find_by_key('EPre').value.present? %>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">fechar</a>
  </div>
</div>

<div class="modal hide" id="ERaz">
  <div class="modal-header">
    <h3>Sobre as Razões</h3>
  </div>
  <div class="modal-body">
    <%= textilize Page.find_by_key('ERaz').value if Page.find_by_key('ERaz').value.present? %>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">fechar</a>
  </div>
</div>

<div class="modal hide" id="EGar">
  <div class="modal-header">
    <h3>Sobre a Garantia/Regra de Inferência</h3>
  </div>
  <div class="modal-body">
    <%= textilize Page.find_by_key('EGar').value if Page.find_by_key('EGar').value.present? %>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">fechar</a>
  </div>
</div>

<div class="modal hide" id="ERes">
  <div class="modal-header">
    <h3>Sobre o Respaldo</h3>
  </div>
  <div class="modal-body">
    <%= textilize Page.find_by_key('ERes').value if Page.find_by_key('ERes').value.present? %>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">fechar</a>
  </div>
</div>

<div class="modal hide" id="ERef">
  <div class="modal-header">
    <h3>Sobre as Condições de Refutação</h3>
  </div>
  <div class="modal-body">
    <%= textilize Page.find_by_key('ERef').value if Page.find_by_key('ERef').value.present? %>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">fechar</a>
  </div>
</div>

<div class="modal hide" id="EQua">
  <div class="modal-header">
    <h3>Sobre o Qualificador</h3>
  </div>
  <div class="modal-body">
    <%= textilize Page.find_by_key('EQua').value if Page.find_by_key('EQua').value.present? %>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">fechar</a>
  </div>
</div>